# ARK 기술 분석

목차
 1. DPoS(Delegate Proof of Stake) 합의 알고리즘
    1. 기존의 DPoS와 ARK의 DPoS 차이
    2. DPoS 합의 알고리즘의 장점
    3. DPoS 합의 알고리즘의 단점
 2. ARK의 Smart Bridge
    1. Smart Bridge 개념
    2. ARK의 Smart Bridge 효용
    3. ARK의 Smart Bridge 한계

## 1. DPoS(Delegate Proof of Stake) 합의 알고리즘

### 1. 기존의 DPoS와 ARK의 DPoS 차이

ARK는 기존의 DPoS 합의 알고리즘과는 약간의 차이점과 개선점이 있다. 먼저 기존의 DPoS에 대한 개념부터 살펴보자.

- 기존 DPoS 합의 알고리즘
 + 네트워크를 구성하는 모든 노드들 간의 투표 결과로 대표자 노드를 선정하고, 이 대표자들의 합의로 블록을 생성
 + 대표자의 역할
    - 블록을 생성하여 블록체인에 추가
    - 대표자 간의 합의를 통해 악의적인 노드 추방
    - 블록 내의 발신자, 수신자, 잔고 등의 정보는 임의로 수정할 수 없음
 + 단위 시간당 생성되는 블록의 개수가 상대적으로 적음(합의에 참여하는 노드의 숫자가 적기 때문)
 + 비용이 적게 소모됨(투표자들은 투표를 끝내고 나면 오프라인 상태로 바꿔도 나중에 보상이 제공되기 때문)
 + Bitshare 의 경우 101명의 Delegates가 있음

ARK는 이런 기존의 DPOS를 응용하고 개선하여 아래와 같은 특징을 보인다.

- ARK의 DPoS 합의 알고리즘
 + Delegates를 51명으로 줄이고, 블록이 브로드캐스트될 때 노드간 홉을 최소화 하는 라우팅 기술로 빠른 속도로 블록을 생성함
 + 과 네트워크 통신 방법을 개선하여 더 빠른 속도로 블록을 생성함
  + 각 지갑에서 투표의 가중치는 투표된 모든 대표간에 균등하게 분배됨
    - 한 명의 대표에게 투표하면, 그 지갑의 100%를 투표로 받음
    - 두 명의 대표에게 투표하면, 해당 지갑의 50% 씩을 투표로 받음
    - 즉, 대형의 ARK 소지자가 모든 노드의 마이닝 포지션에 투표함으로써 전체 네트워크를 제어할 가능성을 줄일 수 있음


### 2. DPoS 합의 알고리즘의 장점

1. 51명의 소수의 선출된 대표자들이 블록을 생성하기 때문에 메인체인에 연결될 다음 블록을 식별하기 쉬움(기존 PoS의 문제점 해결)
2. 기존 PoS의 방식에서 마이닝을 수행하려면 직접 마스터 노드가 되거나, 대행 업체를 선택해야 함. 하지만 DPoS 방식에서는 대표자의 특별한 요구 조건이 없다면 소규모로도 참여할 수 있음
3. 1번의 장점과도 연결되며, 대표자의 수가 적기 때문에 합의 속도가 굉장히 빠름(평균 8초)
4. 기존의 PoW 그리고 PoS 방식보다도 비용이 적게 듬

### 3. DPoS 합의 알고리즘의 단점
1. 대표자는 투표를 받기 위해 자신과 관련된 특정한 정보들을 제공(익명성이 유지되지 않음)해야 하기 때문에 공격 대상을 특정 지을 수 있고, 또한 공격 대상이 다른 합의 방식보다 훨씬 적기(51명) 때문에 특정인을 대상으로 한 해킹 공격에 취약함
2. 투표를 받기 위한 공약에는 충분히 거짓 내용이 포함될 수 있기 때문에, 투표자들을 선동하여 잘못된 대표자에게 투표가 이루어질 수 있음
3. PoW, PoS와 마찬가지로 Sybil Attack에 대한 근본적인 해결책은 없음

## 2. ARK의 Smart Bridge

### 1. Smart Bridge 개념
ARK의 Smart Bridge는 서로 다른 블록체인을 ARK에 링크한다. 이 링크 된 블록체인은 다양한 메시지를 전송할 수 있다. 다른 토큰을 보낼 수 있다.

ARK에서는 'Vendor Field'라는 데이터 섹션과,  'Encoded Listener'라는 노드를 이용해 이런 작업을 수행할 수 있도록 한다.

### 2. ARK의 Smart Bridge 효용
블록체인을 링크시켜 서로의 메시지를 주고 받을 수 있다는 것은 매우 큰 장점이다. 또 다른 기술인 ACES(Ark Contract Execution Services)를 이용해서 이더리움의 스마트 컨트랙트를 가능하게 할 수 있는데, 이는 ARK는 다른 플랫폼 블록체인과 연결되었을 경우, 다양한 플랫폼 형태를 제공할 수 있다는 뜻이다.

### 3. ARK의  Smart Bridge 한계
ARK의 Smart Bridge 기술에는 4가지 한계점이 있다.

1. ARK는 현재 Javascript로 구현되었고, 그 특성상 간단한 개발에 최적화 되어있고, 다른 언어보다 성능이 떨어진다.
2. 위 특성으로 인해 웹 환경에서는 유용하겠지만 결국 API를 통해 다른 블록체인 및 거래소의 정보를 불러오는 정도 이상의 효과를 내기는 어렵다.
3. GitHub에서 ark-node의 Perfomance를 참조했을 때

   > * stable on testnet at 5tx/s
   > * pushed to 10tx/s on devnet

    와 같이 비트코인 5\~6 tx/s, 이더리움 8\~9 tx/s의 처리 속도와 별로 차이가 없다. 즉 블록 생성 속도만 빠르기 때문에, 적은 양의 트랜잭션에 대한 처리는 빠르겠지만 다수의 트랜잭션을 처리를 요구할 경우 처리 속도는 늦어질 수밖에 없다. 현재까지는 트랜잭션 발생자체가 매우 적기 때문에 문제가 발생하지 않고 있지만, 이는 반드시 보완해야할 문제이다.
